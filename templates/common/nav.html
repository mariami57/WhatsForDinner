
{% load static %}

<div class="nav-block">
    <div class="logo-img">
        <a href="{% url 'home' %}">
            <img src="{% static 'images/whatsfordinner_logo2.png' %}" alt="logo">
        </a>

    </div>

    <nav>
        <ul>
            <li>
                <a href="{%  url 'home' %}">Home</a>
            </li>

            <li>
                <a href="{%  url 'all-recipes' %}">Recipes</a>
            </li>

            {% if request.user.is_authenticated %}
                <li class="dropdown {% if request.resolver_match.url_name in 'all-recipes my-recipes favourite-recipes' %}open{% endif %}">
                    <a href="{%  url 'all-recipes' %}">Recipes</a>
                    <ul class="dropdown-menu">
                        <li class="tooltip-container"><a href="{% url 'create-recipe' %}">
                            <i class="fa-solid fa-circle-plus"></i>
                            <span class="tooltip-text">Add Recipe</span>
                        </a></li>
                        <li class="tooltip-container"><a href="{% url 'my-recipes' %}">
                            <i class="fa-solid fa-book"></i>
                            <span class="tooltip-text">My Recipes</span>
                        </a></li>
                        <li class="tooltip-container"><a href="{% url 'favourite-recipes' %}">
                            <i class="fa-solid fa-heart"></i>
                            <span class="tooltip-text">Favourite Recipies</span>
                        </a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Profile</a>
                </li>

                <li>
                    <a href="{% url 'logout' %}" onclick="event.preventDefault(); document.getElementById('logout-form').submit()">Log Out</a>
                </li>
            {% else %}
                <li>
                    <a href="{% url 'login' %}">Log In</a>
                </li>
            {% endif %}
        </ul>
    </nav>
</div>

<form style="display:none" id="logout-form" action="{% url 'logout' %}" method="POST">
    {% csrf_token %}
</form>
